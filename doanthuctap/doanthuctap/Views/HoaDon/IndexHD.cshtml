@model  doanthuctap.Models.hoadonviewmodel

@{
    ViewBag.Title = "IndexHD";
    Layout = "~/Views/_LayoutPage1.cshtml";
}
<h2>Danh Sách Hóa Đơn</h2>
<p>
    @Html.ActionLink("Thêm Giá", "Formthemhoadon")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Mahd)
        </th>
        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Ky)
        </th>

        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Tungay)
        </th>
        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Denngay)

        </th>
        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Chisodau)
        </th>
        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Chisocuoi)
        </th>
        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Tongthanhtien)
        </th>

        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Ngaylaphd)
        </th>
        <th>
            @Html.DisplayNameFor(model => Model.Hoadon.FirstOrDefault().Tinhtrang)
        </th>

        <th></th>
    </tr>

    @foreach (var item in Model.Hoadon)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Mahd)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Ky)

        </td>
        <td>
            @*@{
                string tungay = item.Tungay.Date.ToShortDateString();
            }*@
            @Html.DisplayFor(modelItem => item.Tungay)

        </td>
        <td>
            @*@{
                string denngay = item.Denngay.Date.ToShortDateString();
            }*@
            @Html.DisplayFor(modelItem => item.Denngay)

        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Chisodau)

        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Chisocuoi)

        </td>
        <td>
            @(String.Format(new System.Globalization.CultureInfo("vi-VN"),"{0:#,###}",item.Tongthanhtien) +" VND")
            
        </td>
        <td>
            @{
                
                string ngaylaphd = item.Ngaylaphd.Date.ToShortDateString();
            }
            @Html.DisplayFor(modelItem => ngaylaphd)

        </td>
        <td>
            @{
                string tthd = item.Tinhtrang == true ? "Đã đóng" : "Chưa Đóng";
            }
            @Html.DisplayFor(modelItem => tthd)
        </td>
        <td>
            @Html.ActionLink("Lập hóa đơn", "Formlaphoadon", new { id = item.Mahd }) |
            @Html.ActionLink("Edit", "Formsuahoadon", new { id = item.Mahd }) |
            @Html.ActionLink("Delete", "Formxoahoadon", new { id = item.Mahd })
        </td>

    </tr>
    }

</table>

